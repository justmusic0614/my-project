# Kanban Patrol 看板巡邏 Agent

## 📋 概述

Kanban Patrol agent 每小時檢查任務看板狀態，自動識別逾期任務、停滯項目，並發送提醒通知。

## 🎯 目的

- **逾期偵測**：自動標記超過截止日期的任務
- **停滯警示**：識別超過 3 天未移動的任務
- **狀態同步**：確保任務狀態與實際進度一致
- **自動通知**：向 dashboard 發送警示訊息

## ⚙️ 設定

```yaml
名稱: kanban-patrol
排程: "0 * * * *"  # 每小時整點
逾時: 60000        # 1 分鐘
記憶體限制: 50M
```

## 📊 檢查項目

```
任務檢查清單：
  ├─ 逾期任務（dueDate < now）
  ├─ 停滯任務（updatedAt > 3 days ago）
  ├─ 缺少標籤的重要任務
  └─ pending 欄位超過 24 小時的項目

動作：
  1. 更新任務標記（加上 ⚠️ 警示）
  2. 發送通知至 dashboard
  3. 記錄巡邏報告
```

## 🔧 依賴套件

| 套件 | 版本 | 用途 |
|------|------|------|
| date-fns | ^4.1.0 | 日期比較 |
| fs/promises | built-in | 讀寫 tasks.json |

## 📈 效能指標

- **平均執行時間**：10-15 秒
- **處理任務數**：檢查所有任務（~50-100 個）
- **記憶體使用**：尖峰 30-40 MB

## 🔍 監控

日誌儲存於：`~/.openclaw/logs/kanban-patrol.log`

關鍵事件：
- 發現逾期任務數量
- 停滯任務列表
- 自動標記動作

## 🛠️ 故障排除

### 問題：無法讀取 tasks.json
**解決方案**：確認 dashboard 伺服器運行中

### 問題：通知未發送
**解決方案**：檢查 notification API 端點

---

**最後更新**：2026-02-14
**維護者**：AI 系統
**版本**：1.0
