# Market Digest Agent 環境變數設定範例
# 複製此檔案為 .env 並填入實際值

# ===========================================
# API Keys 統一管理
# ===========================================
# 所有 API keys 都是可選的，無 key 時相關功能會自動降級
#
# 部署位置：
#   VPS: ~/clawd/.env（Market Digest + Security Patrol 共用）
#   本地: src/agents/market-digest/.env
#
# 配置優先級：
#   1. ~/clawd/.env（VPS 中央配置）
#   2. 本地 .env（開發環境）
#
# 配置管理：
#   - 統一介面：shared/api-keys.js
#   - 配置區塊：config.json 的 apiKeys 區塊
#   - 環境變數替換：${VAR} 格式
# ===========================================

# ===================
# 外部 API Keys
# ===================

# Financial Modeling Prep（美股數據，免費版 250 req/day）
FMP_API_KEY=

# Perplexity AI（新聞研究，5 req/min）
PERPLEXITY_API_KEY=

# Anthropic Claude（AI 分析，每日預算 $2）
ANTHROPIC_API_KEY=

# FinMind（台股數據，26 req/min）
FINMIND_API_TOKEN=

# SEC EDGAR（必須包含 Name + Email，格式: "Name email@example.com"）
SEC_EDGAR_USER_AGENT="YourName your.email@example.com"

# ===================
# Telegram Bot 設定
# ===================
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID=your_telegram_chat_id_here

# ===================
# 日誌設定
# ===================
# 日誌級別: debug, info, warn, error
LOG_LEVEL=info
# 日誌格式: json, pretty
LOG_FORMAT=pretty

# ===================
# HTTP 設定
# ===================
# API 請求超時時間（毫秒）
API_TIMEOUT_MS=10000
# API 重試次數
API_RETRIES=3

# ===================
# 快取設定
# ===================
# 快取啟用
CACHE_ENABLED=true
# 快取最大大小
CACHE_MAX_SIZE=100MB

# ===================
# 資料保留設定
# ===================
# 新聞資料保留天數
DATA_RETENTION_NEWS=30
# 市場資料保留天數
DATA_RETENTION_MARKET=90
# 快取保留天數
DATA_RETENTION_CACHE=7
# 日誌保留天數
DATA_RETENTION_LOGS=30

# ===================
# 外部 API Keys
# ===================
# Perplexity API（新聞研究）
PERPLEXITY_API_KEY=pplx-xxxx

# Financial Modeling Prep（美股數據，免費版 250 req/day）
FMP_API_KEY=xxxx

# FinMind（台股數據）
FINMIND_API_TOKEN=xxxx

# Anthropic（Two-Stage Summarize）
ANTHROPIC_API_KEY=sk-ant-xxxx

# ===================
# SRE 設定
# ===================
# Circuit Breaker 閾值
CIRCUIT_BREAKER_THRESHOLD=5
# Circuit Breaker 超時（毫秒）
CIRCUIT_BREAKER_TIMEOUT=60000
# Circuit Breaker 重置超時（毫秒）
CIRCUIT_BREAKER_RESET_TIMEOUT=300000

# ===================
# 處理設定
# ===================
# 去重閾值（0.0-1.0）
DEDUP_THRESHOLD=0.85
# 最小新聞數量
MIN_NEWS_COUNT=5
# 最大年齡（小時）
MAX_AGE_HOURS=24

# ===================
# Node.js 設定
# ===================
# Node 環境: development, production, test
NODE_ENV=production
# 時區
TZ=Asia/Taipei
